/* Self-hosted Material Icons */
@font-face {
  font-family: 'Material Icons';
  font-style: normal;
  font-weight: 400;
  /* Use 'block' to ensure icons are visible on load, preventing empty spaces */
  font-display: block;
  src: url('/fonts/material-icons-v143-latin-regular.woff2') format('woff2');
}

/* Establish base font size for proper rem scaling */
html {
  font-size: 100%;
  /* Base for rem calculations - critical for accessibility scaling */
}

/* CSS Variables */
:root {
  /* Primary colors */
  --primary-color: #1976D2;
  --primary-color-light: #42A5F5;
  --primary-color-dark: #1565C0;

  /* Surface colors */
  --background: #f5f5f5;
  --surface: #ffffff;
  --surface-variant: #f0f0f0;

  /* Text colors */
  --text-primary: #212121;
  --text-secondary: #757575;
  --text-hint: #9e9e9e;

  /* Border and divider */
  --divider: #e0e0e0;

  /* Shadows */
  --shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 4px 12px rgba(0, 0, 0, 0.15);

  /* Modal and overlay colors */
  --modal-backdrop: rgba(0, 0, 0, 0.5);
  --primary-alpha-5: rgba(25, 118, 210, 0.05);
  --primary-alpha-10: rgba(25, 118, 210, 0.1);
  --error-alpha-10: rgba(244, 67, 54, 0.1);
  --hover-overlay: rgba(255, 255, 255, 0.1);

  /* Custom food styling */
  --custom-food-bg: #fafafa;
  --secondary-color: #ffc107;

  /* Status colors */
  --success-color: var(--primary-color);
  /* Use primary blue for brand consistency */
  --warning-color: #FF9800;
  --error-color: #F44336;
  --info-color: #2196F3;

  /* Fluid Typography Scale - scales with viewport and user preferences */
  --font-size-xs: clamp(0.8rem, 0.5rem + 1vw, 0.875rem);
  --font-size-sm: clamp(0.875rem, 0.5rem + 1.5vw, 1rem);
  --font-size-base: clamp(1rem, 0.5rem + 2vw, 1.125rem);
  --font-size-lg: clamp(1.125rem, 0.6rem + 2.5vw, 1.25rem);
  --font-size-xl: clamp(1.25rem, 0.75rem + 3vw, 1.5rem);
  --font-size-2xl: clamp(1.5rem, 1rem + 3.5vw, 1.875rem);
  --font-size-3xl: clamp(1.875rem, 1.25rem + 4vw, 2.25rem);

  /* Input minimum sizes for iOS accessibility */
  --input-font-min: 1rem;
  /* 16px minimum to prevent zoom on iOS */
  --input-font-ideal: 1.125rem;
  /* 18px for better readability */

  /* Touch target minimums */
  --touch-target-min: 2.75rem;
  /* 44px minimum for accessibility */

  /* Header height - consistent across devices */
  --header-height: 3.75rem;

  /* Minimum readable font size for small devices */
  --font-size-min-readable: 0.875rem;
  /* 14px - commitment to readable text */

  /* Fluid Icon Sizes - scales with both viewport and user font settings */
  --icon-size-xs: clamp(0.75rem, 0.6rem + 0.5vw, 0.875rem);
  /* 12px-14px */
  --icon-size-sm: clamp(0.875rem, 0.7rem + 0.75vw, 1rem);
  /* 14px-16px */
  --icon-size-md: clamp(1rem, 0.75rem + 1vw, 1.25rem);
  /* 16px-20px */
  --icon-size-lg: clamp(1.25rem, 0.85rem + 1.5vw, 1.5rem);
  /* 20px-24px */
  --icon-size-xl: clamp(1.5rem, 1rem + 2vw, 1.75rem);
  /* 24px-28px */
  --icon-size-2xl: clamp(1.75rem, 1.1rem + 2.5vw, 2rem);
  /* 28px-32px */

  /* Spacing scale - consistent rem-based measurements */
  --spacing-xs: 0.25rem;
  /* 4px */
  --spacing-sm: 0.5rem;
  /* 8px */
  --spacing-md: 0.75rem;
  /* 12px */
  --spacing-lg: 1rem;
  /* 16px */
  --spacing-xl: 1.25rem;
  /* 20px */
  --spacing-2xl: 1.5rem;
  /* 24px */
  --spacing-3xl: 2rem;
  /* 32px */
}

/* Dark theme support */
[data-theme="dark"] {
  --background: #121212;
  --surface: #1e1e1e;
  --surface-variant: #2d2d2d;

  --text-primary: #ffffff;
  --text-secondary: #b3b3b3;
  --text-hint: #757575;

  --divider: #333333;

  /* Dark mode shadows */
  --shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  --shadow-lg: 0 4px 12px rgba(0, 0, 0, 0.4);

  /* Dark mode overlays */
  --modal-backdrop: rgba(0, 0, 0, 0.7);
  --primary-alpha-5: rgba(42, 165, 245, 0.08);
  --primary-alpha-10: rgba(42, 165, 245, 0.15);
  --error-alpha-10: rgba(244, 67, 54, 0.2);
  --hover-overlay: rgba(255, 255, 255, 0.08);

  /* Dark mode custom food styling */
  --custom-food-bg: #2a2a2a;
  --secondary-color: #ffb300;
}

/* Base styles */
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background-color: var(--background);
  color: var(--text-primary);
  line-height: 1.5;
}

/* Material Icons styling */
.material-icons {
  font-family: 'Material Icons';
  font-weight: normal;
  font-style: normal;
  font-size: var(--icon-size-lg);
  /* Responsive 20px-24px instead of hardcoded 24px */
  line-height: 1;
  letter-spacing: normal;
  text-transform: none;
  display: inline-block;
  white-space: nowrap;
  word-wrap: normal;
  font-display: swap;
  /* Show fallback text immediately */
  direction: ltr;
  -webkit-font-feature-settings: 'liga';
  -webkit-font-smoothing: antialiased;
  /* Ensure icons are vertically centered */
  vertical-align: middle;
}

/* Native form input styling for better dark mode support */
input[type="date"],
input[type="time"],
input[type="datetime-local"] {
  color-scheme: light dark;
}

/* Shared full-screen modal styles */
.modal-backdrop.full-screen {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--modal-backdrop);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-container.full-screen {
  width: 100%;
  height: 100%;
  max-width: 480px;
  background-color: var(--surface);
  border-radius: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  position: relative;
}

/* Spinning animation for loading states */
.spinning {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

/* Mobile full-screen */
@media (max-width: 480px) {
  .modal-backdrop.full-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    height: 100dvh;
    align-items: flex-start;
    justify-content: flex-start;
    padding: 0;
  }

  .modal-container.full-screen {
    width: 100vw;
    height: 100vh;
    height: 100dvh;
    max-width: none;
    position: absolute;
    top: 0;
    left: 0;
  }
}